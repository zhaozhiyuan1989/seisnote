:orphan:



.. _sphx_glr_obspydoc:

ObsPy
================

ObsPy 是一款针对地震领域开发的 Python 库，功能十分齐全。

本文主要记录 ObsPy 的一些常用功能和用法，
目标为熟悉 ObsPy 的设计哲学和掌握基本的数据处理流程。

学习资源
-----------

- `ObsPy 官方文档 <https://docs.obspy.org>`__
- `Using Syngine with ObsPy <https://nbviewer.jupyter.org/gist/krischer/3e655576e4d17e6c95f2>`__
- `ROSES: Unit 1 ObsPy <https://www.bilibili.com/video/BV1St4y1v7uk>`__
- :download:`ObsPy Tutorial in Chinese <https://docs.obspy.org/archive/ObsPy_Tutorial_2020-04_chinese.pdf>`


安装
--------

官方建议利用 `Anaconda <https://github.com/obspy/obspy/wiki#installation>`__ 
安装 ObsPy，国内用户可能需要更换镜像源。

.. code-block:: bash

    # 创建 obspy 运行环境
    $ conda create -n obspy python=3.8

    # 查看所有环境名称
    $ conda info -e

    # 激活 obspy 环境
    $ conda activate obspy

    # 安装 obspy 预编译包 
    (obspy) $ conda install obspy -c conda-forge
    (obspy) $ conda update obspy
    # 查看 obspy 版本
    (obspy) $ python -c "import obspy; print(obspy.__version__)"
        1.2.2

    # 安装地图绘制包
    (obspy) $ conda install cartopy

    # 测试 obspy 
    $ obspy-plot -h    # Simple script to plot waveforms in one or more files.
    $ obspy-mopad -h    # Just like MoPad.

主要内容
----------


.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="“时间问题”是申请地震数据最基本的问题，利用 ObsPy 申请数据时需要 用 obspy.core.utcdatetime.UTCDateTime 对象 来控制发震时刻、申请波形数据的起始时...">

.. only:: html

 .. figure:: /obspydoc/images/thumb/sphx_glr_plot_2_utc_date_time_thumb.png
     :alt: 世界标准时间

     :ref:`sphx_glr_obspydoc_plot_2_utc_date_time.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /obspydoc/plot_2_utc_date_time

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="本节简单介绍如何利用 ObsPy 读写地震波形数据、地震目录和元数据。">

.. only:: html

 .. figure:: /obspydoc/images/thumb/sphx_glr_plot_3_read_and_write_thumb.png
     :alt: 读写地震数据

     :ref:`sphx_glr_obspydoc_plot_3_read_and_write.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /obspydoc/plot_3_read_and_write

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="本节主要介绍如何利用 obspy.core.stream.Stream 的 obspy.core.stream.Stream.plot 方法绘制地震波形。">

.. only:: html

 .. figure:: /obspydoc/images/thumb/sphx_glr_plot_4_waveform_plotting_thumb.png
     :alt: 波形绘制

     :ref:`sphx_glr_obspydoc_plot_4_waveform_plotting.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /obspydoc/plot_4_waveform_plotting

.. raw:: html

    <div class="sphx-glr-thumbcontainer" tooltip="通过 obspy.clients.fdsn 模块可以访问任何支持 `FDSN Web Services &lt;https://www.fdsn.org/webservices/&gt;`__ 协议的网...">

.. only:: html

 .. figure:: /obspydoc/images/thumb/sphx_glr_plot_5_retrieving_data_thumb.png
     :alt: 从数据中心申请地震数据

     :ref:`sphx_glr_obspydoc_plot_5_retrieving_data.py`

.. raw:: html

    </div>


.. toctree::
   :hidden:

   /obspydoc/plot_5_retrieving_data
.. raw:: html

    <div class="sphx-glr-clear"></div>



.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
